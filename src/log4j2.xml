<?xml version="1.0" encoding="UTF-8"?>
<!-- 20221021/dependency-check:弱點修補/Jeffery.Cheng/202210200533-00 -->
<!-- log4j.jar 參數配置檔 -->
<!--monitorInterval:定時檢測配置文件的修改,有變化則自動重新加載配置,時間單位為秒,最小間隔為5s -->
<Configuration monitorInterval="60">
    <!--properties:設置全局變量 -->
    <properties>
        <!--LOG_HOME:指定當前日誌存放的目錄 -->
        <property name="LOG_HOME">/LOGS/Merchant</property>
        
        <!--         for MerchantAuthCtl.java -->
        <Property name="basePath">/TFB_EPG/Logs</Property>
        <!--         for MerchantAuthCtl.java -->
        
    </properties>
    <!--Appenders:定義日誌輸出目的地，內容和格式等 -->
    <Appenders>
        <!--Console:日誌輸出到控制台標準輸出 -->
        <Console name="stdout" target="SYSTEM_OUT">
            <!--pattern:日期,線程名,日誌級別,日誌名稱,日誌信息,換行 -->
            <PatternLayout pattern="%d{ABSOLUTE} [%t] %-5p %-30.30c{2} %x - %m %n"/>
        </Console>
        <!--RollingFile:日誌輸出到文件,下面的文件都使用相對路徑 -->
        <!--fileName:當前日誌輸出的文件名稱 -->
        <!--filePattern:備份日誌文件名稱 -->
		<!--append:When true - the default, records will be appended to the end of the file. When set to false, the file will be cleared before new records are written. -->
        <RollingFile name="user" fileName="${LOG_HOME}/UserLog/fubon_UserLog.log"
            filePattern="${LOG_HOME}/UserLog/fubon_UserLog.log.%d{yyyyMMdd}" append="true">
            <PatternLayout pattern="[%d] %m %n" />
            <!--Policies:觸發策略決定何時執行備份 -->
			<Policies>
				<!--TimeBasedTriggeringPolicy:日誌文件按照時間備份 -->
                <!--interval:每1天生成一個新文件，時間單位需要結合filePattern時間%d{yyyy-MM-dd} -->
                <!--同理，如果要每1小時生成一個新文件，則改成%d{yyyy-MM-ddHH} -->
                <!--modulate:對備份日誌的生成時間糾偏，糾偏以0為基准進行，"0+interval"決定啟動後第一次備份時間 -->
				<TimeBasedTriggeringPolicy interval="1" modulate="true"/>
			</Policies>
        </RollingFile>
		<RollingFile name="systeminfo" fileName="${LOG_HOME}/SysLog/fubon.log"
            filePattern="${LOG_HOME}/SysLog/fubon.log.%d{yyyyMMdd}" append="true">
            <PatternLayout pattern="%d %-5p [%t] %C{2} (%F:%L) - %m %n"/>
			<Policies>
				<TimeBasedTriggeringPolicy interval="1" modulate="true"/>
			</Policies>
        </RollingFile>
		<RollingFile name="DBBean" fileName="${LOG_HOME}/DBBeanLog/fubon_dbean.log"
            filePattern="${LOG_HOME}/DBBeanLog/fubon_dbean.log.%d{yyyyMMdd}" append="true">
            <PatternLayout pattern="%d %-5p [%t] %C{2} (%F:%L) - %m %n"/>
			<Policies>
				<TimeBasedTriggeringPolicy interval="1" modulate="true"/>
			</Policies>
        </RollingFile>
        
<!--         for MerchantAuthCtl.java -->
        <Console name="Console" target="SYSTEM_OUT" follow="true">
            <PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] [%-5level] %c{1} - %msg%n" />
        </Console>
        <RollingFile name="fileLogger" fileName="${basePath}/STCreditJava2.log" filePattern="${basePath}/STCreditJava2.log.%d{yyyyMMdd}" >
            <PatternLayout>
                <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] [%-5level] %c{1} - %msg%n</pattern>
            </PatternLayout>
            <Policies>
                <TimeBasedTriggeringPolicy interval="1" modulate="true" />
            </Policies>
        </RollingFile> 
<!--         for MerchantAuthCtl.java -->

    </Appenders>
	<!--Loggers:定義日誌級別和使用的Appenders -->
    <Loggers>
        <!--name: 打印日誌的類的包路徑 -->
        <!--additivity: true當前的Logger打印的日誌附加到Root，false僅僅打印到RollingFile -->
        <Logger name="user" level="DEBUG" additivity="true">
            <AppenderRef ref="user"/>
        </Logger>
		<Logger name="systeminfo" level="DEBUG" additivity="true">
            <AppenderRef ref="systeminfo"/>
        </Logger>
		<Logger name="DBBean" level="DEBUG" additivity="true">
            <AppenderRef ref="DBBean"/>
        </Logger>
        
<!--         for MerchantAuthCtl.java -->        
        <Logger name="STCreditJava" additivity="false" level="trace">
            <AppenderRef ref="fileLogger" />
            <AppenderRef ref="Console" />
        </Logger>
        <Root level="trace">
            <AppenderRef ref="Console"/>
        </Root>
<!--         for MerchantAuthCtl.java -->

    </Loggers>
</Configuration>